<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">src/config.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/Gawdl3y/discord-graf.git" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/util.js~Util.html">Util</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-loadYargs">loadYargs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setDefaults">setDefaults</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setValues">setValues</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isAdmin">isAdmin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isMod">isMod</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-defaults">defaults</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-values">values</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-graf">graf</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-serverCommandPatterns">serverCommandPatterns</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-unprefixedCommandPattern">unprefixedCommandPattern</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-version">version</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">commands</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-handleMessage">handleMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-makeResultObject">makeResultObject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-matchDefault">matchDefault</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-parseMessage">parseMessage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-run">run</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendMessages">sendMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendMessagesForResult">sendMessagesForResult</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateMessages">updateMessages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-updateMessagesForResult">updateMessagesForResult</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-find">find</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isUsable">isUsable</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-nameGroup">nameGroup</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-register">register</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-commandResults">commandResults</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-serverCommandPatterns">serverCommandPatterns</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-unprefixedCommandPattern">unprefixedCommandPattern</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-commands">commands</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-groups">groups</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">database</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/mod-role.js~ModRole.html">ModRole</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/setting.js~Setting.html">Setting</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/database/usable-channel.js~UsableChannel.html">UsableChannel</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">errors</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/errors/command-format.js~CommandFormatError.html">CommandFormatError</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/errors/friendly.js~FriendlyError.html">FriendlyError</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/config.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">&apos;use babel&apos;;
&apos;use strict&apos;;

export const values = {};
export default values;

export const defaults = {
	playingGame: &apos;Message for help&apos;,
	paginationItems: 10,
	autoReconnect: true,
	storage: &apos;bot-storage&apos;,
	updateCheck: 60,
	commandPrefix: &apos;!&apos;,
	commandEditable: 30,
	nonCommandEdit: true,
	log: &apos;bot.log&apos;,
	logMaxSize: 5242880,
	logMaxFiles: 5,
	logLevel: &apos;info&apos;,
	consoleLevel: &apos;info&apos;
};

export function setValues(configObj) {
	Object.assign(values, configObj);
}

export function setDefaults(overwrite = false) {
	if(overwrite) {
		Object.assign(values, defaults);
	} else {
		for(const key of Object.keys(defaults)) {
			if(!(key in values)) values[key] = defaults[key];
		}
	}
}

export function loadYargs(yargs) {
	Object.assign(values, yargs
		// Authentication
		.option(&apos;token&apos;, {
			type: &apos;string&apos;,
			alias: &apos;t&apos;,
			describe: &apos;API token for the bot account&apos;,
			group: &apos;Authentication:&apos;
		})
		.option(&apos;email&apos;, {
			type: &apos;string&apos;,
			alias: &apos;e&apos;,
			describe: &apos;Email of the Discord account for the bot to use&apos;,
			group: &apos;Authentication:&apos;
		})
		.option(&apos;password&apos;, {
			type: &apos;string&apos;,
			alias: &apos;p&apos;,
			describe: &apos;Password of the Discord account for the bot to use&apos;,
			group: &apos;Authentication:&apos;
		})
		.implies({ email: &apos;password&apos;, password: &apos;email&apos; })

		// General
		.option(&apos;owner&apos;, {
			type: &apos;string&apos;,
			alias: &apos;o&apos;,
			describe: &apos;Discord user ID of the bot owner&apos;,
			group: &apos;General:&apos;
		})
		.option(&apos;invite&apos;, {
			type: &apos;string&apos;,
			alias: &apos;i&apos;,
			describe: &apos;Discord instant invite to a server to contact the owner&apos;,
			group: &apos;General:&apos;
		})
		.option(&apos;playing-game&apos;, {
			type: &apos;string&apos;,
			default: defaults.playingGame,
			alias: &apos;g&apos;,
			describe: &apos;Text to show in the &quot;Playing...&quot; status&apos;,
			group: &apos;General:&apos;
		})
		.option(&apos;pagination-items&apos;, {
			type: &apos;number&apos;,
			default: defaults.paginationItems,
			alias: &apos;I&apos;,
			describe: &apos;Number of items per page in paginated commands&apos;,
			group: &apos;General:&apos;
		})
		.option(&apos;auto-reconnect&apos;, {
			type: &apos;boolean&apos;,
			default: defaults.autoReconnect,
			alias: &apos;a&apos;,
			describe: &apos;Whether or not the bot should automatically reconnect when disconnected&apos;,
			group: &apos;General:&apos;
		})
		.option(&apos;storage&apos;, {
			type: &apos;string&apos;,
			default: defaults.storage,
			alias: &apos;s&apos;,
			describe: &apos;Path to storage directory&apos;,
			group: &apos;General:&apos;,
			normalize: true
		})
		.option(&apos;update-check&apos;, {
			type: &apos;number&apos;,
			default: defaults.updateCheck,
			alias: &apos;U&apos;,
			describe: &apos;How frequently to check for an update (in minutes, use 0 to disable)&apos;,
			group: &apos;General:&apos;
		})

		// Commands
		.option(&apos;command-prefix&apos;, {
			type: &apos;string&apos;,
			default: defaults.commandPrefix,
			alias: &apos;P&apos;,
			describe: &apos;Default command prefix (blank to use only mentions)&apos;,
			group: &apos;Commands:&apos;
		})
		.option(&apos;command-editable&apos;, {
			type: &apos;number&apos;,
			default: defaults.commandEditable,
			alias: &apos;E&apos;,
			describe: &apos;How long a command message is editable (in seconds, use 0 to disable)&apos;,
			group: &apos;Commands:&apos;
		})
		.option(&apos;non-command-edit&apos;, {
			type: &apos;boolean&apos;,
			default: defaults.nonCommandEdit,
			alias: &apos;N&apos;,
			describe: &apos;Whether or not a non-command message can be edited into a command&apos;,
			group: &apos;Commands:&apos;
		})

		// Logging
		.option(&apos;log&apos;, {
			type: &apos;string&apos;,
			default: defaults.log,
			alias: &apos;l&apos;,
			describe: &apos;Path to log file&apos;,
			group: &apos;Logging:&apos;,
			normalize: true
		})
		.option(&apos;log-max-size&apos;, {
			type: &apos;number&apos;,
			default: defaults.logMaxSize,
			defaultDescription: &apos;5MB&apos;,
			alias: &apos;S&apos;,
			describe: &apos;Maximum size of single log file (in bytes)&apos;,
			group: &apos;Logging:&apos;
		})
		.option(&apos;log-max-files&apos;, {
			type: &apos;number&apos;,
			default: defaults.logMaxFiles,
			alias: &apos;F&apos;,
			describe: &apos;Maximum amount of log files to keep&apos;,
			group: &apos;Logging:&apos;
		})
		.option(&apos;log-level&apos;, {
			type: &apos;string&apos;,
			default: defaults.logLevel,
			alias: &apos;L&apos;,
			describe: &apos;Log level to output to the log file (error, warn, info, verbose, debug)&apos;,
			group: &apos;Logging:&apos;
		})
		.option(&apos;console-level&apos;, {
			type: &apos;string&apos;,
			default: defaults.consoleLevel,
			alias: &apos;C&apos;,
			describe: &apos;Log level to output to the console (error, warn, info, verbose, debug)&apos;,
			group: &apos;Logging:&apos;
		})
		.option(&apos;config&apos;, {
			type: &apos;string&apos;,
			alias: &apos;c&apos;,
			describe: &apos;Path to JSON/YAML config file&apos;,
			group: &apos;Special:&apos;,
			normalize: true,
			config: true,
			configParser: configFile =&gt; {
				const extension = require(&apos;path&apos;).extname(configFile).toLowerCase();
				if(extension === &apos;.json&apos;) {
					return JSON.parse(require(&apos;fs&apos;).readFileSync(configFile));
				} else if(extension === &apos;.yml&apos; || extension === &apos;.yaml&apos;) {
					return require(&apos;js-yaml&apos;).safeLoad(require(&apos;fs&apos;).readFileSync(configFile));
				}
				throw new Error(&apos;Unknown config file type.&apos;);
			}
		})
	.argv);
	return yargs;
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.8)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
